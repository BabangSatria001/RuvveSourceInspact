<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhanced Source Inspector - Final</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#6366F1',
            'primary-soft': 'rgba(99,102,241,0.15)',
            'bg-dark': '#020617',
            'card-dark': '#020617',
            'card-soft': 'rgba(15,23,42,0.85)',
          }
        }
      }
    }
  </script>
  
  <style>
    * { box-sizing: border-box; }

    body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #141e30 0%, #243b55 100%);
            min-height: 100vh;
            padding-bottom: 30px;
            position: relative;
    }
            body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(72, 149, 239, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

    textarea::-webkit-scrollbar, pre::-webkit-scrollbar, #previewFrame::-webkit-scrollbar {
      width: 8px; height: 8px;
    }

    textarea::-webkit-scrollbar-thumb, pre::-webkit-scrollbar-thumb, #previewFrame::-webkit-scrollbar-thumb {
      background: rgba(148,163,184,0.7);
      border-radius: 999px;
    }

/* Scrollbar untuk container tombol */
#codeViewHeader > div:last-child {
  max-width: 60%;
  flex-shrink: 0;
}

    #codeViewHeader > div:last-child::-webkit-scrollbar {
      height: 3px;
    }

    #codeViewHeader > div:last-child::-webkit-scrollbar-thumb {
      background: rgba(99, 102, 241, 0.6);
      border-radius: 999px;
    }

    #codeViewHeader > div:last-child::-webkit-scrollbar-track {
      background: rgba(15, 23, 42, 0.3);
      border-radius: 999px;
    }

/* Pastikan scrollbar visible di mobile */
@media (max-width: 768px) {
  #codeViewHeader > div:last-child {
    max-width: 50%;
    padding-bottom: 2px;
  }
  
  #fileName {
    max-width: 100px;
  }
}
    .glass-card {
      background: linear-gradient(135deg, rgba(20, 30, 48, 0.9) 0%, rgba(36, 59, 85, 0.9) 100%);;
      border: 1px solid rgba(148,163,184,0.35);
      box-shadow: 0 20px 45px rgba(15,23,42,0.8), 0 0 0 1px rgba(15,23,42,0.4);
      backdrop-filter: blur(18px);
    }

.code-area {
  font-family: "JetBrains Mono", ui-monospace, Menlo, Monaco, Consolas, monospace;
  font-size: 13px; /* Default font size */
  white-space: pre-wrap;
  word-wrap: break-word;
  transition: font-size 0.15s ease;
}

pre[class*="language-"] {
  background: transparent !important;
  margin: 0 !important;
  padding: 0 !important;
  /* font-size akan diatur oleh JavaScript */
}

code[class*="language-"] {
  font-family: "JetBrains Mono", ui-monospace, monospace !important;
  /* font-size akan diatur oleh JavaScript */
}
.line-numbers .line-numbers-rows {
  border-right: 1px solid rgba(148,163,184,0.3) !important;
  background: rgba(15,23,42,0.7) !important;
  padding-right: 8px !important;
  user-select: none;
}

.line-numbers .line-numbers-rows > span:before {
  color: rgba(148,163,184,0.6) !important;
  font-weight: 500;
  text-align: right;
  padding-right: 8px;
}

/* Hover effect untuk line numbers */
.line-numbers .line-numbers-rows > span:hover:before {
  color: rgba(99, 102, 241, 0.8) !important;
}
        .header {
            background: linear-gradient(135deg, rgba(20, 30, 48, 0.9) 0%, rgba(36, 59, 85, 0.9) 100%);
            backdrop-filter: blur(15px);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid rgba(72, 149, 239, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        

        .back-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4895ef;
            text-decoration: none;
            font-weight: 700;
            padding: 8px;
            border-radius: 10px;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, rgba(72, 149, 239, 0.1) 0%, rgba(72, 149, 239, 0.05) 100%);
            border: 2px solid rgba(72, 149, 239, 0.3);
            width: 40px;
            height: 40px;
        }
        

        .back-btn:hover {
            background: linear-gradient(135deg, rgba(72, 149, 239, 0.2) 0%, rgba(72, 149, 239, 0.1) 100%);
            border-color: #4895ef;
            transform: translateX(-3px);
        }

        .header-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 22px;
            font-weight: 900;
            background: linear-gradient(135deg, #4895ef 0%, #73b1f7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }

.menu-btn {
    background: linear-gradient(135deg, rgba(72, 149, 239, 0.2) 0%, rgba(72, 149, 239, 0.1) 100%);
    border: 2px solid rgba(72, 149, 239, 0.4);
    color: #4895ef;
    cursor: pointer;
    padding: 8px;
    border-radius: 10px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    width: 40px;
    height: 40px;
    justify-content: center;
    position: relative;
}

.menu-btn:hover {
    background: linear-gradient(135deg, rgba(72, 149, 239, 0.3) 0%, rgba(72, 149, 239, 0.2) 100%);
    border-color: #4895ef;
    transform: scale(1.05);
}

/* Animasi Hamburger jadi X */
.menu-btn span {
    display: block;
    width: 20px;
    height: 2px;
    background: #4895ef;
    position: relative;
    transition: all 0.3s ease;
}

.menu-btn span::before,
.menu-btn span::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 2px;
    background: #4895ef;
    transition: all 0.3s ease;
}

.menu-btn span::before {
    top: -6px;
}

.menu-btn span::after {
    top: 6px;
}

.menu-btn.active span {
    background: transparent;
}

.menu-btn.active span::before {
    top: 0;
    transform: rotate(45deg);
}

.menu-btn.active span::after {
    top: 0;
    transform: rotate(-45deg);
}
        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 40px;
            right: -220px;
            width: 220px;
            height: auto;
            background: linear-gradient(135deg, rgba(20, 30, 48, 0.9) 0%, rgba(36, 59, 85, 0.9) 100%);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-right: none;
            border-radius: 20px;
            padding: 20px 20px 20px 20px;
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.3);
            transition: right 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar.active {
            right: 0;
        }

        .sidebar h2 {
            color: white;
            font-size: 22px;
            margin-bottom: 20px;
            text-align: center;
            padding-bottom: 16px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
        }

        .contact-container {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 14px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateX(50px);
        }

        .sidebar.active .contact-container {
            opacity: 1;
            transform: translateX(0);
        }

        .sidebar.active .contact-container:nth-child(2) {
            transition-delay: 0.1s;
        }

        .sidebar.active .contact-container:nth-child(3) {
            transition-delay: 0.2s;
        }

        .sidebar.active .contact-container:nth-child(4) {
            transition-delay: 0.3s;
        }

        .sidebar.active .contact-container:nth-child(5) {
            transition-delay: 0.4s;
        }

        .sidebar.active .contact-container:nth-child(6) {
            transition-delay: 0.5s;
        }

        .sidebar.active .contact-container:nth-child(7) {
            transition-delay: 0.6s;
        }

        .sidebar.active .contact-container:nth-child(8) {
            transition-delay: 0.7s;
        }

        .contact-container:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .contact-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            padding: 8px 20px;
            color: white;
            text-decoration: none;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        /* Tambahkan ini di dalam tag <style>, di bawah class .contact-btn */

.contact-btn svg {
    width: 24px;       /* Ukuran lebar pasti */
    height: 24px;      /* Ukuran tinggi pasti */
    flex-shrink: 0;    /* Agar icon tidak gepeng */
    fill: currentColor; /* Agar warna mengikuti text */
}

        

        /* WhatsApp - Hijau */
        .wa-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .wa-btn:hover {
            background: linear-gradient(135deg, #128C7E 0%, #075E54 100%);
        }

        /* TikTok - Gradasi TikTok */
        .tiktok-btn {
            background: linear-gradient(135deg, #00f2ea 0%, #ff0050 50%, #000000 100%);
        }

        .tiktok-btn:hover {
            background: linear-gradient(135deg, #ff0050 0%, #00f2ea 50%, #000000 100%);
        }

        /* Instagram - Gradasi IG */
        .ig-btn {
            background: linear-gradient(135deg, #833AB4 0%, #FD1D1D 50%, #F77737 100%);
        }

        .ig-btn:hover {
            background: linear-gradient(135deg, #FD1D1D 0%, #833AB4 50%, #F77737 100%);
        }

        /* Lynk.id - Hijau */
        .lynk-btn {
            background: linear-gradient(135deg, #00ff87 0%, #00D085 50%, #00b872 100%);
        }

        .lynk-btn:hover {
            background: linear-gradient(135deg, #00D085 0%, #00ff87 50%, #00b872 100%);
        }
        

        .contact-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        

        .contact-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .contact-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
        }

        .contact-btn:active {
            transform: scale(0.98);
        }
        
        
        /* Tambahkan style dasar overlay ini */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5); /* Latar belakang gelap transparan */
    z-index: 999; /* Di bawah sidebar (1000) tapi di atas konten lain */
    display: none; /* Sembunyi dulu */
    backdrop-filter: blur(3px); /* Efek blur (opsional, biar keren) */
}

/* Saat aktif, dia muncul */
.overlay.active {
    display: block;
}
        .breadcrumb {
            padding: 25px 25px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 15px;
            position: relative;
            z-index: 1;
        }

        .breadcrumb a {
            color: #4895ef;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .breadcrumb a:hover {
            color: #73b1f7;
            text-decoration: underline;
        }

        .breadcrumb span {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
        }
        
        .icon {
            width: 22px;
            height: 22px;
            fill: currentColor;
            position: relative;
            z-index: 1;
            animation: bounce 2s infinite;
        }

        .contact-btn span {
            position: relative;
            z-index: 1;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        .contact-btn:hover .icon {
            animation: spin 0.5s ease;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        .overlay.active {
            display: block;
        }




    .fullscreen-editor {
      position: fixed;
      inset: 0;
      z-index: 50;
      max-width: 100%;
      width: 100%;
      margin: 0 !important;
      padding: 16px;
      background: rgba(2, 6, 23, 0.96);
    }

    .fullscreen-editor .glass-card {
      height: calc(100vh - 80px);
      max-width: 100%;
      display: flex;
      flex-direction: column;
    }

    .fullscreen-editor .tab-container {
      flex-shrink: 0;
    }

    .fullscreen-editor .content-wrapper {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .fullscreen-editor #codeView,
    .fullscreen-editor #previewView,
    .fullscreen-editor #validationView {
      flex: 1;
      max-height: none !important;
      overflow: auto;
    }

    .fullscreen-editor #statusBar {
      margin-top: 4px;
      flex-shrink: 0;
    }

        .footer {
            margin-top: 50px;
            text-align: center;
            padding: 20px 20px;
            position: relative;
            z-index: 1;
        }

        .footer-content {
            background: linear-gradient(135deg, rgba(26, 31, 53, 0.8) 0%, rgba(36, 45, 68, 0.8) 100%);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(72, 149, 239, 0.2);
            border-radius: 20px;
            padding: 25px;
            max-width: 550px;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .footer-content p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
.luvve-link {
  background: linear-gradient(
    90deg,
    #FF5F6D,
    #FFC371,
    #FFF95B,
    #B6FF00,
    #00FFA3,
    #00E5FF,
    #4FACFE,
    #A18CFF,
    #FF8AF5,
    #FF6FD8
  );
  background-size: 1000% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;

  animation: rainbow 3s linear infinite;
}

@keyframes rainbow {
  from { background-position:   0% 50%; }
  to   { background-position: 100% 50%; }
}
        .footer-content .year {
            
            color: #4895ef;
            font-weight: 700;
            font-size: 18px;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(72, 149, 239, 0.3), transparent);
            margin: 20px 0;
        }

        .section-title {
            color: #4895ef;
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

    .tab-button { transition: all 0.2s ease; }
    .tab-button.active {
      background: rgba(99, 102, 241, 0.2);
      border-color: #6366F1;
      color: #e0e7ff;
    }

    .validation-item {
      padding: 8px 12px;
      margin: 4px 0;
      border-radius: 8px;
      font-size: 0.75rem;
      display: flex;
      align-items: start;
      gap: 8px;
    }

    .validation-item.error {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      color: #fca5a5;
    }

    .validation-item.warning {
      background: rgba(245, 158, 11, 0.1);
      border: 1px solid rgba(245, 158, 11, 0.3);
      color: #fcd34d;
    }

    .validation-item.info {
      background: rgba(59, 130, 246, 0.1);
      border: 1px solid rgba(59, 130, 246, 0.3);
      color: #93c5fd;
    }

    .content-wrapper {
      display: flex;
      flex-direction: column;
      height: 60%;
    }

    #codeView, #previewView, #validationView {
      flex: 1;
      overflow: auto;
    }

    .rate-limit-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 8px;
      font-size: 0.7rem;
      font-weight: 600;
      background: rgba(99, 102, 241, 0.15);
      border: 1px solid rgba(99, 102, 241, 0.3);
      color: #a5b4fc;
    }

    .rate-limit-badge.warning {
      background: rgba(245, 158, 11, 0.15);
      border-color: rgba(245, 158, 11, 0.3);
      color: #fcd34d;
    }

    .rate-limit-badge.danger {
      background: rgba(239, 68, 68, 0.15);
      border-color: rgba(239, 68, 68, 0.3);
      color: #fca5a5;
    }
    
    @keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

        @media (max-width: 768px) {
            .sidebar {
                width: 70%;
                right: -75%;
            }

            .header-title {
                font-size: 18px;
            }
        }

        @media (max-width: 600px) {
            .container {
                padding: 30px 20px;
            }
            
            .sidebar {
                width: 50%;
                right: -55%;
            }

            .header {
                padding: 10px 15px;
            }
        }
        
        /* Styling kursor typing */
.typed-cursor {
  color: #6366F1; /* Warna Primary */
  font-weight: 300;
}


/* ============================================
   MODE DESKTOP - CENTERED & COMPACT LAYOUT
   ============================================ */
@media (min-width: 1024px) {
    body {
        /* Posisikan semua di tengah monitor */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        background: linear-gradient(135deg, #0a0e1a 0%, #1a1f35 100%);
        padding: 0;
        min-height: 100vh;
    }

    /* Background overlay tetap full screen */
    body::before {
        position: fixed;
        width: 100%;
        height: 100%;
    }

    /* ============================================
       1. HEADER - CENTERED & COMPACT
       ============================================ */
    .header {
        position: sticky;
        top: 0;
        width: 100%;
        max-width: 900px; /* Lebar maksimal header */
        margin: 0 auto 20px;
        padding: 10px 20px;
        border-radius: 0 0 20px 20px;
        z-index: 100;
    }

    .header-title {
        font-size: 18px;
    }

    .back-btn, .menu-btn {
        width: 36px;
        height: 36px;
        padding: 7px;
    }

    /* ============================================
       2. BREADCRUMB - CENTERED
       ============================================ */
    .breadcrumb {
        max-width: 900px;
        margin: 0 auto;
        padding: 15px 25px 10px;
        font-size: 13px;
    }

    /* ============================================
       3. MAIN CONTENT - CENTERED & SPACIOUS
       ============================================ */
    main {
        width: 100%;
        max-width: 900px; /* Lebar maksimal konten */
        margin: 0 auto;
        padding: 0 30px 40px; /* Ngga mepet tembok */
    }

    /* ============================================
       4. SECTION CARDS - REFINED SPACING
       ============================================ */
    
    /* Rate Limit Badge & Title */
    section.mt-3 {
        margin-top: 10px;
        margin-bottom: 15px;
    }

    section.mt-3 p {
        font-size: 11px;
    }

    .rate-limit-badge {
        font-size: 0.65rem;
        padding: 3px 8px;
    }

    /* Profile Card (RUVVE V2 PRO) */
    section.mb-6 {
        margin-bottom: 20px;
        padding: 15px;
    }

    section.mb-6 .w-16 {
        width: 52px;
        height: 52px;
    }

    section.mb-6 h2 {
        font-size: 20px;
    }

    section.mb-6 p {
        font-size: 12px;
    }

    /* URL Input Card */
    section.glass-card.rounded-2xl {
        padding: 18px 20px;
        margin-bottom: 20px;
    }

    section.glass-card label {
        font-size: 12px;
        margin-bottom: 6px;
    }

    #urlInput {
        padding: 10px 14px;
        font-size: 13px;
    }

    #fetchBtn {
        padding: 10px 20px;
        font-size: 13px;
    }

    #fetchBtn i {
        font-size: 12px;
    }

    /* Progress Bar */
    #progressWrapper {
        margin-top: 15px;
    }

    #progressWrapper span {
        font-size: 10px;
    }

    .w-full.h-1\.5 {
        height: 5px;
    }

    /* Error Text */
    #errorText {
        font-size: 11px;
        margin-top: 12px;
    }

    /* ============================================
       5. TAB CONTAINER - COMPACT
       ============================================ */
    .tab-container {
        padding: 6px;
        margin-bottom: 0;
    }

    .tab-button {
        padding: 10px 16px;
        font-size: 13px;
        border-radius: 8px;
    }

    .tab-button i {
        font-size: 12px;
    }

    /* ============================================
       6. EDITOR SECTION - OPTIMIZED HEIGHT
       ============================================ */
    #editorWrapper .glass-card {
        max-height: calc(100vh - 450px); /* Sesuaikan dengan tinggi viewport */
        min-height: 500px;
    }

    /* Code View Header */
    #codeViewHeader {
        padding: 8px 16px;
    }

    #codeViewHeader .w-2\.5 {
        width: 8px;
        height: 8px;
    }

    #fileName {
        font-size: 11px;
        max-width: 400px;
    }

    /* Toolbar Buttons */
    #codeViewHeader button {
        padding: 6px 10px;
        font-size: 11px;
    }

    #codeViewHeader button i {
        font-size: 10px;
    }

    /* ============================================
       7. CODE OUTPUT AREA - ENHANCED READABILITY
       ============================================ */
    #codeView, #previewView, #validationView {
        max-height: 450px;
        padding: 15px 20px;
    }

    #codeOutput {
        font-size: 13px;
        line-height: 1.6;
    }

    /* Line Numbers - Cleaner */
    .line-numbers .line-numbers-rows {
        padding-right: 10px;
        border-right-width: 1px;
    }

    .line-numbers .line-numbers-rows > span:before {
        padding-right: 10px;
        font-size: 12px;
    }

    /* Preview iFrame */
    #previewFrame {
        min-height: 450px;
        border-radius: 10px;
        background: white;
    }

    /* Validation Results */
    #validationResults {
        font-size: 13px;
    }

    .validation-item {
        padding: 10px 14px;
        font-size: 12px;
        margin: 6px 0;
    }

    .validation-item i {
        font-size: 14px;
    }

    /* ============================================
       8. STATUS BAR - REFINED
       ============================================ */
    #statusBar {
        padding: 6px 16px;
        font-size: 11px;
    }

    #statusBar > div {
        gap: 20px;
    }

    #titleSmall, #titleBig {
        font-size: 11px;
        padding: 4px 8px;
        border-radius: 6px;
        transition: all 0.2s ease;
    }

    #titleSmall:hover, #titleBig:hover {
        background: rgba(16, 185, 129, 0.1);
        transform: scale(1.05);
    }

    /* ============================================
       9. FOOTER - CENTERED & COMPACT
       ============================================ */
    .footer {
        width: 100%;
        max-width: 900px;
        margin: 40px auto 0;
        padding: 20px 30px;
    }

    .footer-content {
        padding: 20px;
        border-radius: 16px;
    }

    .footer-content p {
        font-size: 14px;
        margin-bottom: 6px;
    }

    .footer-content .year {
        font-size: 16px;
    }

    /* ============================================
       10. SIDEBAR - ADJUSTED FOR DESKTOP
       ============================================ */
    .sidebar {
        top: 70px;
        right: -240px;
        width: 240px;
        max-height: calc(100vh - 100px);
        border-radius: 20px 0 0 20px;
    }

    .sidebar.active {
        right: calc(50% - 450px); /* Posisi relatif terhadap centered layout */
    }

    .sidebar h2 {
        font-size: 20px;
        margin-bottom: 18px;
        padding-bottom: 14px;
    }

    .contact-container {
        padding: 12px;
        margin-bottom: 14px;
    }

    .contact-btn {
        padding: 8px 14px;
        font-size: 14px;
        gap: 10px;
    }

    .contact-btn svg {
        width: 20px;
        height: 20px;
    }

    /* ============================================
       11. OVERLAY - ADJUSTED
       ============================================ */
    .overlay.active {
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(5px);
    }

    /* ============================================
       12. FULLSCREEN MODE - OVERRIDE
       ============================================ */
    .fullscreen-editor {
        max-width: 95vw;
        margin: 0 auto;
        padding: 20px;
    }

    .fullscreen-editor .glass-card {
        height: calc(100vh - 100px);
    }

    /* ============================================
       13. SCROLLBAR STYLING - DESKTOP
       ============================================ */
    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }

    ::-webkit-scrollbar-track {
        background: rgba(15, 23, 42, 0.3);
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(99, 102, 241, 0.5);
        border-radius: 10px;
        border: 2px solid rgba(15, 23, 42, 0.3);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(99, 102, 241, 0.7);
    }

    /* ============================================
       14. ANIMATIONS - SMOOTHER ON DESKTOP
       ============================================ */
    .glass-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .glass-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 25px 50px rgba(15, 23, 42, 0.9);
    }

    button:active {
        transform: scale(0.97);
    }

    /* ============================================
       15. TYPOGRAPHY ENHANCEMENT
       ============================================ */
    h2, h3, h4 {
        letter-spacing: -0.02em;
    }

    code, pre {
        font-feature-settings: "liga" 1, "calt" 1;
    }

    /* ============================================
       16. FOCUS STATES - BETTER VISIBILITY
       ============================================ */
    button:focus-visible,
    input:focus-visible,
    select:focus-visible {
        outline: 2px solid rgba(99, 102, 241, 0.6);
        outline-offset: 2px;
    }

    /* ============================================
       17. CONTAINER SHADOW ENHANCEMENT
       ============================================ */
    .glass-card {
        box-shadow: 
            0 20px 45px rgba(15, 23, 42, 0.8),
            0 0 0 1px rgba(148, 163, 184, 0.1),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
    }

    /* ============================================
       18. RESPONSIVE ADJUSTMENTS FOR LARGE SCREENS
       ============================================ */
    @media (min-width: 1440px) {
        main, .header, .footer {
            max-width: 1000px; /* Lebih lebar di monitor besar */
        }

        #codeView, #previewView, #validationView {
            max-height: 550px;
        }

        #editorWrapper .glass-card {
            min-height: 600px;
        }
    }

    /* ============================================
       19. NOTIFICATION POSITIONING - DESKTOP
       ============================================ */
    #fontSizeNotif {
        top: 100px !important;
        right: calc(50% - 450px) !important;
    }

    /* ============================================
       20. PERFORMANCE OPTIMIZATION
       ============================================ */
    * {
        will-change: auto; /* Reset will-change untuk performa */
    }

    .glass-card,
    button,
    .sidebar {
        backface-visibility: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* ============================================
   EXTRA LARGE SCREENS (2K/4K Monitors)
   ============================================ */
@media (min-width: 2560px) {
    main, .header, .footer {
        max-width: 1200px;
        font-size: 16px; /* Slightly larger text untuk layar besar */
    }

    #codeOutput {
        font-size: 14px;
    }

    .tab-button {
        font-size: 14px;
        padding: 12px 20px;
    }
}
```


  </style>
</head>
<body class="text-slate-100">
  
    <div class="header">
        <a href="../home.html" class="back-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
        </a>
        <div class="header-title">Source Code Ispector</div>
        <button class="menu-btn" onclick="toggleSidebar()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <line x1="3" y1="12" x2="21" y2="12"/>
                <line x1="3" y1="6" x2="21" y2="6"/>
                <line x1="3" y1="18" x2="21" y2="18"/>
            </svg>
        </button>
    </div>

    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <h2>Hubungi Kami</h2>
        
        <div class="contact-container">
            <a href="https://wa.me/" target="_blank" class="contact-btn wa-btn">
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                </svg>
                <span>WhatsApp</span>
            </a>
        </div>

        <div class="contact-container">
            <a href="https://tiktok.com/@username" target="_blank" class="contact-btn tiktok-btn">
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                </svg>
                <span>TikTok</span>
            </a>
        </div>

        <div class="contact-container">
            <a href="https://instagram.com/username" target="_blank" class="contact-btn ig-btn">
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
                <span>Instagram</span>
            </a>
        </div>

        <div class="contact-container">
            <a href="https://lynk.id/username" target="_blank" class="contact-btn lynk-btn">
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                </svg>
                <span>Lynk.id</span>
            </a>
        </div>
    </div>
    </div>
        <div class="breadcrumb">
        <a href="../home.html">Home</a>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
        </svg>
        <span>Source Inspactor</span>
    </div>

    
<main class="max-w-4xl mx-auto px-4 pb-28 pt-0">
    <section class="mt-3 mb-4">

      <div class="flex items-center gap-2 text-[11px] md:text-xs font-medium text-slate-300 mt-1 flex-wrap">
                <p class="text-[10px] md:text-xs font-semibold tracking-[0.15em] text-slate-500 uppercase">
        Enhanced Inspector with Security
      </p>
        <span class="rate-limit-badge ml-auto" id="rateLimitBadge">
          <i class="fa-solid fa-gauge-high"></i>
          <span id="rateLimitText">30/30</span>
        </span>
      </div>
    </section>

    <section class="mb-6 mt-1 flex items-center gap-4 glass-card p-4 rounded-2xl shadow-xl shadow-slate-950/60">
      <div class="w-16 h-16 rounded-full overflow-hidden border border-primary-soft shadow-md">
        <img src="https://i.supaimg.com/9a593bc7-7c55-42e2-a140-187d3b3ef667.png" alt="Profile" class="w-full h-full object-cover">
      </div>

      <div>
<h2 class="text-xl md:text-2xl font-semibold flex items-center gap-2"><a class="luvve-link">Ruvve</a>
   <span id="typing-element" class="text-primary ml-1"></span>
</h2>


        <p class="text-xs md:text-sm text-slate-400">
          
        </p>
      </div>
    </section>

    <section class="glass-card rounded-2xl p-4 md:p-5 mb-5 shadow-xl shadow-slate-950/60 relative z-20">
      <div class="flex flex-col md:flex-row gap-3 md:gap-4 items-stretch md:items-end">
        <div class="flex-1">
          <label for="urlInput" class="text-xs text-slate-300 font-medium flex items-center gap-1 mb-1.5">
            <i class="fa-solid fa-link text-primary text-xs"></i>
            URL Website
          </label>
          <div class="relative">
            <input id="urlInput" type="text" class="w-full bg-slate-900/60 border border-slate-700/70 rounded-xl py-2.5 px-3 text-xs md:text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary placeholder:text-slate-500" placeholder="Paste URL di sini....">
          </div>
        </div>

        <div class="md:w-40 flex md:block">
          <button id="fetchBtn" class="w-full inline-flex items-center justify-center gap-2 rounded-xl bg-primary hover:bg-indigo-500 active:scale-[0.98] transition text-xs md:text-sm font-semibold py-2.5 shadow-lg shadow-indigo-500/30">
            <i class="fa-solid fa-cloud-arrow-down text-xs" id="btnIcon"></i>
            <span>Ambil Kode</span>
          </button>
        </div>
      </div>

      <div id="progressWrapper" class="mt-4 hidden">
        <div class="flex items-center justify-between text-[10px] text-slate-400 mb-1">
          <span>Memuat...</span>
          <span id="progressLabel">0%</span>
        </div>
        <div class="w-full h-1.5 rounded-full bg-slate-800 overflow-hidden">
          <div id="progressBar" class="h-full w-0 bg-gradient-to-r from-primary to-sky-400 transition-all duration-200"></div>
        </div>
      </div>

      <p id="errorText" class="mt-3 text-[11px] md:text-xs text-rose-400 hidden"></p>
    </section>

    <div class="glass-card rounded-t-2xl p-2 mb-0 shadow-xl shadow-slate-950/60 flex gap-2 tab-container">
      <button id="tabCode" class="tab-button active flex-1 px-4 py-2 rounded-lg border border-slate-700/70 text-xs md:text-sm font-medium transition">
        <i class="fa-solid fa-code mr-2"></i>Code
      </button>
      <button id="tabPreview" class="tab-button flex-1 px-4 py-2 rounded-lg border border-slate-700/70 text-xs md:text-sm font-medium transition">
        <i class="fa-solid fa-eye mr-2"></i>Preview
      </button>
      <button id="tabValidation" class="tab-button flex-1 px-4 py-2 rounded-lg border border-slate-700/70 text-xs md:text-sm font-medium transition">
        <i class="fa-solid fa-check-circle mr-2"></i>Validate
      </button>
    </div>

    <div id="editorWrapper" class="mt-0">
      <section class="glass-card rounded-b-2xl rounded-t-none overflow-hidden shadow-xl shadow-slate-950/60">
        <div class="content-wrapper">
<div id="codeViewHeader" class="flex items-center px-4 py-2.5 border-b border-slate-800/80 bg-slate-950/70 gap-2 overflow-hidden">
  <div class="flex items-center gap-2 min-w-0 flex-1 overflow-hidden">
              <div class="flex -space-x-1.5 flex-shrink-0">
                <span class="w-2.5 h-2.5 rounded-full bg-rose-500/90"></span>
                <span class="w-2.5 h-2.5 rounded-full bg-amber-400/90"></span>
                <span class="w-2.5 h-2.5 rounded-full bg-emerald-400/90"></span>
              </div>
<span id="fileName" class="text-[11px] md:text-xs text-slate-400 font-medium truncate flex-1 min-w-0">
  (belum ada data)
</span>
            </div>
            
            <div class="flex items-center gap-1 overflow-x-auto flex-shrink-0 flex-nowrap pb-1 ml-auto" style="scrollbar-width: thin; -webkit-overflow-scrolling: touch; scroll-behavior: smooth;">
              <button id="highlightBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Highlight">
                <i class="fa-solid fa-palette text-[10px] text-pink-400"></i>
              </button>

              <button id="beautifyBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Beautify">
                <i class="fa-solid fa-wand-magic-sparkles text-[10px] text-purple-400"></i>
              </button>

              <button id="minifyBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Minify">
                <i class="fa-solid fa-compress text-[10px] text-amber-400"></i>
              </button>

              <button id="copyBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Copy">
                <i class="fa-regular fa-copy text-[10px]" id="copyIcon"></i>
              </button>

              <button id="downloadBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Download">
                <i class="fa-solid fa-download text-[10px] text-sky-400"></i>
              </button>

              <button id="clearBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Clear">
                <i class="fa-solid fa-trash-can text-[10px] text-rose-400"></i>
              </button>

              <button id="fullscreenBtn" class="text-[10px] md:text-xs px-2 py-1.5 rounded-lg border border-slate-700/80 text-slate-300 hover:bg-slate-800/80 transition flex items-center gap-1 whitespace-nowrap flex-shrink-0" title="Fullscreen">
                <i class="fa-solid fa-expand text-[10px]" id="fullscreenIcon"></i>
              </button>
            </div>
          </div>

          <div id="codeView" class="bg-slate-950/40 p-3 md:p-4 max-h-[60vh] overflow-auto">
            <pre id="codeOutput" class="code-area line-numbers language-html" contenteditable="true" spellcheck="false"><code class="language-html"><!-- Kode dari website akan muncul di sini --></code></pre>
          </div>

          <div id="previewView" class="hidden bg-slate-950/40 p-3 md:p-4 max-h-[60vh] overflow-auto">
<iframe
  id="previewFrame"
  sandbox="allow-same-origin allow-scripts allow-forms"
  style="width:100%; height:100%; border:none;"
></iframe>
          </div>

          <div id="validationView" class="hidden bg-slate-950/40 p-3 md:p-4 max-h-[60vh] overflow-auto">
            <div id="validationResults">
              <p class="text-xs text-slate-400 text-center py-8">Ambil kode terlebih dahulu untuk memvalidasi HTML</p>
            </div>
          </div>
        </div>
      </section>

      <div id="statusBar" class="flex items-center justify-between px-4 py-1.5 text-[10px] md:text-xs bg-slate-900/70 border-t border-slate-800/70 text-slate-400 mt-[1px] rounded-b-2xl shadow-xl shadow-slate-950/60">
        <div class="flex gap-4">
          <span id="statusLn">Ln: 1</span>
          <span id="statusCol">Col: 1</span>
          <span id="statusSize">Size: 0 KB</span>
          <span id="statusMode" class="text-emerald-400">Plain</span>
        </div>

        <div class="flex gap-3 items-center">
          <<button id="titleSmall" class="uppercase tracking-wide opacity-80 text-[10px] cursor-pointer select-none hover:opacity-100 hover:text-emerald-400 transition-all duration-150" title="Perkecil Font (Min: 8px)">t-</button>
<button id="titleBig" class="uppercase font-bold text-slate-200 tracking-wide text-xs cursor-pointer select-none hover:text-emerald-400 transition-all duration-150" title="Perbesar Font (Max: 24px)">T+</button>
        </div>
      </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <p>Created by <strong><a href="lynk.id" class="luvve-link">Ruvve V1</a> <p class="year">Â© 2025</p></strong>
            </p>
        </div>
    </div>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.11/beautify.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.11/beautify-html.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
  

<script>
  // ============================================
  // RATE LIMITING & SECURITY CONFIGURATION
  // ============================================
  const SECURITY_CONFIG = {
    maxRequests: 30,
    windowMs: 60000, // 1 menit
    timeout: 8000, // 8 detik
    maxSizeMB: 5,
    maxSizeBytes: 5 * 1024 * 1024, // 5MB
    requests: [],
    cache: new Map()
  };

  // ============================================
  // DOM ELEMENTS
  // ============================================
  const urlInput = document.getElementById('urlInput');
  const fetchBtn = document.getElementById('fetchBtn');
  const btnIcon = document.getElementById('btnIcon');
  const progressWrap = document.getElementById('progressWrapper');
  const progressBar = document.getElementById('progressBar');
  const progressLabel = document.getElementById('progressLabel');
  const errorText = document.getElementById('errorText');
  const codeOutput = document.getElementById('codeOutput');
  const codeView = document.getElementById('codeView');
  const previewView = document.getElementById('previewView');
  const validationView = document.getElementById('validationView');
  const previewFrame = document.getElementById('previewFrame');
  const fileNameSpan = document.getElementById('fileName');
  const copyBtn = document.getElementById('copyBtn');
  const copyIcon = document.getElementById('copyIcon');
  const clearBtn = document.getElementById('clearBtn');
  const beautifyBtn = document.getElementById('beautifyBtn');
  const minifyBtn = document.getElementById('minifyBtn');
  const highlightBtn = document.getElementById('highlightBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const statusLn = document.getElementById('statusLn');
  const statusCol = document.getElementById('statusCol');
  const statusSize = document.getElementById('statusSize');
  const statusMode = document.getElementById('statusMode');
  const titleSmall = document.getElementById('titleSmall');
  const titleBig = document.getElementById('titleBig');
  const editorWrapper = document.getElementById('editorWrapper');
  const fullscreenBtn = document.getElementById('fullscreenBtn');
  const fullscreenIcon = document.getElementById('fullscreenIcon');
  const tabCode = document.getElementById('tabCode');
  const tabPreview = document.getElementById('tabPreview');
  const tabValidation = document.getElementById('tabValidation');
  const validationResults = document.getElementById('validationResults');
  const rateLimitBadge = document.getElementById('rateLimitBadge');
  const rateLimitText = document.getElementById('rateLimitText');

  let currentFontPx = 13;
  let syntaxHighlightEnabled = false;
  let currentHtml = '';

  // ============================================
  // RATE LIMITING FUNCTIONS
  // ============================================
  function updateRateLimitUI() {
    const now = Date.now();
    SECURITY_CONFIG.requests = SECURITY_CONFIG.requests.filter(
      time => now - time < SECURITY_CONFIG.windowMs
    );
    
    const remaining = SECURITY_CONFIG.maxRequests - SECURITY_CONFIG.requests.length;
    rateLimitText.textContent = `${remaining}/${SECURITY_CONFIG.maxRequests}`;
    
    rateLimitBadge.classList.remove('warning', 'danger');
    if (remaining <= 5) {
      rateLimitBadge.classList.add('danger');
    } else if (remaining <= 10) {
      rateLimitBadge.classList.add('warning');
    }
  }

  function checkRateLimit() {
    const now = Date.now();
    
    // Hapus request lama
    SECURITY_CONFIG.requests = SECURITY_CONFIG.requests.filter(
      time => now - time < SECURITY_CONFIG.windowMs
    );
    
    // Cek limit
    if (SECURITY_CONFIG.requests.length >= SECURITY_CONFIG.maxRequests) {
      const oldestRequest = Math.min(...SECURITY_CONFIG.requests);
      const resetIn = Math.ceil((SECURITY_CONFIG.windowMs - (now - oldestRequest)) / 1000);
      throw new Error(`â ï¸ Rate limit tercapai! Tunggu ${resetIn} detik lagi. (Max ${SECURITY_CONFIG.maxRequests} request/menit)`);
    }
    
    // Tambah request baru
    SECURITY_CONFIG.requests.push(now);
    updateRateLimitUI();
  }

  // ============================================
  // URL VALIDATION & SECURITY
  // ============================================
  function isLocalOrDangerous(url) {
    const blockedPatterns = [
      /^https?:\/\/(localhost|127\.0\.0\.1|0\.0\.0\.0)/i,
      /^https?:\/\/192\.168\./i,
      /^https?:\/\/10\./i,
      /^https?:\/\/172\.(1[6-9]|2[0-9]|3[0-1])\./i,
      /file:\/\//i,
      /^https?:\/\/169\.254\./i, // Link-local
    ];
    
    return blockedPatterns.some(pattern => pattern.test(url));
  }

  function normalizeUrl(url) {
    url = url.trim();
    if (!url) return '';
    if (!/^https?:\/\//i.test(url)) {
      url = 'https://' + url;
    }
    return url;
  }

  // ============================================
  // CACHE MANAGEMENT
  // ============================================
  function getCachedData(url) {
    const cached = SECURITY_CONFIG.cache.get(url);
    if (cached && (Date.now() - cached.timestamp < 300000)) { // 5 menit cache
      return cached.data;
    }
    return null;
  }

  function setCachedData(url, data) {
    SECURITY_CONFIG.cache.set(url, {
      data: data,
      timestamp: Date.now()
    });
    
    // Batas cache max 50 entries
    if (SECURITY_CONFIG.cache.size > 50) {
      const firstKey = SECURITY_CONFIG.cache.keys().next().value;
      SECURITY_CONFIG.cache.delete(firstKey);
    }
  }

  // ============================================
  // LOADING STATE
  // ============================================
  function setLoading(state) {
    if (state) {
      fetchBtn.disabled = true;
      fetchBtn.classList.add('opacity-80', 'cursor-not-allowed');
      btnIcon.classList.remove('fa-cloud-arrow-down');
      btnIcon.classList.add('fa-spinner', 'fa-spin');
      progressWrap.classList.remove('hidden');
      progressBar.style.width = '20%';
      progressLabel.textContent = '20%';
    } else {
      fetchBtn.disabled = false;
      fetchBtn.classList.remove('opacity-80', 'cursor-not-allowed');
      btnIcon.classList.remove('fa-spinner', 'fa-spin');
      btnIcon.classList.add('fa-cloud-arrow-down');
      progressBar.style.width = '100%';
      progressLabel.textContent = '100%';
      setTimeout(() => {
        progressWrap.classList.add('hidden');
        progressBar.style.width = '0%';
        progressLabel.textContent = '0%';
      }, 400);
    }
  }

  function showError(msg) {
    errorText.textContent = msg;
    errorText.classList.remove('hidden');
  }

  function clearError() {
    errorText.textContent = '';
    errorText.classList.add('hidden');
  }

  // ============================================
  // STATUS BAR UPDATE
  // ============================================
  function updateStatusBar(text) {
    if (typeof text !== 'string') text = '';
    const lines = text.split('\n').length || 1;
    const kb = (new Blob([text]).size / 1024).toFixed(2);

    statusLn.textContent = `Ln: ${lines}`;
    statusSize.textContent = `Size: ${kb} KB`;

    const lastLine = text.split('\n').pop() || '';
    statusCol.textContent = `Col: ${lastLine.length + 1}`;
  }

  // ============================================
  // SYNTAX HIGHLIGHTING
  // ============================================
  function applySyntaxHighlight(html) {
    const code = codeOutput.querySelector('code');
    code.textContent = html;
    Prism.highlightElement(code);
    codeOutput.classList.add('line-numbers');
    statusMode.textContent = 'Highlighted';
    statusMode.classList.remove('text-slate-400');
    statusMode.classList.add('text-emerald-400');
  }

function removeSyntaxHighlight(html) {
  const code = codeOutput.querySelector('code');
  code.textContent = html;
  // Tetap tampilkan line numbers meskipun tidak ada syntax highlighting
  // codeOutput.classList.remove('line-numbers'); // â HAPUS BARIS INI
  statusMode.textContent = 'Plain';
  statusMode.classList.remove('text-emerald-400');
  statusMode.classList.add('text-slate-400');
}
  function toggleSyntaxHighlight() {
    syntaxHighlightEnabled = !syntaxHighlightEnabled;
    
    if (syntaxHighlightEnabled) {
      applySyntaxHighlight(currentHtml);
      showSuccessFeedback(highlightBtn, 'fa-palette');
    } else {
      removeSyntaxHighlight(currentHtml);
    }
  }

  // ============================================
  // PREVIEW & VALIDATION
  // ============================================
  function updatePreview(html) {
    try {
      const doc = previewFrame.contentDocument || previewFrame.contentWindow.document;
      doc.open();
      doc.write(html);
      doc.close();
    } catch (e) {
      console.error('Preview error:', e);
    }
  }

  function validateHtml(html) {
    const issues = [];
    
    if (!html.match(/<!DOCTYPE\s+html>/i)) {
      issues.push({ type: 'warning', message: 'Missing DOCTYPE declaration', line: 1 });
    }
    
    if (!html.match(/<html[^>]*>/i)) {
      issues.push({ type: 'error', message: 'Missing <html> tag', line: 1 });
    }
    
    if (!html.match(/<head[^>]*>/i)) {
      issues.push({ type: 'error', message: 'Missing <head> tag', line: 1 });
    }
    
    if (!html.match(/<body[^>]*>/i)) {
      issues.push({ type: 'error', message: 'Missing <body> tag', line: 1 });
    }
    
    if (!html.match(/<title[^>]*>.*?<\/title>/i)) {
      issues.push({ type: 'warning', message: 'Missing <title> tag', line: 1 });
    }
    
    if (!html.match(/<meta[^>]*charset[^>]*>/i)) {
      issues.push({ type: 'warning', message: 'Missing charset meta tag', line: 1 });
    }
    
    if (!html.match(/<meta[^>]*name="viewport"[^>]*>/i)) {
      issues.push({ type: 'info', message: 'Missing viewport meta tag (recommended for responsive design)', line: 1 });
    }
    
    const deprecatedTags = ['center', 'font', 'marquee', 'strike', 'u', 'big', 'tt', 'frame', 'frameset'];
    deprecatedTags.forEach(tag => {
      const regex = new RegExp(`<${tag}[^>]*>`, 'gi');
      if (html.match(regex)) {
        issues.push({ type: 'warning', message: `Deprecated tag found: <${tag}>`, line: 1 });
      }
    });
    
    const imgsWithoutAlt = html.match(/<img(?![^>]*alt=)[^>]*>/gi);
    if (imgsWithoutAlt) {
      issues.push({ type: 'warning', message: `Found ${imgsWithoutAlt.length} image(s) without alt attribute`, line: 1 });
    }
    
    return issues;
  }

  function displayValidationResults(issues) {
    if (issues.length === 0) {
      validationResults.innerHTML = `
        <div class="text-center py-8">
          <i class="fa-solid fa-check-circle text-4xl text-emerald-400 mb-3"></i>
          <p class="text-sm text-slate-300 font-medium">HTML Valid!</p>
          <p class="text-xs text-slate-400 mt-1">Tidak ada masalah yang ditemukan</p>
        </div>
      `;
      return;
    }
    
    const errorCount = issues.filter(i => i.type === 'error').length;
    const warningCount = issues.filter(i => i.type === 'warning').length;
    const infoCount = issues.filter(i => i.type === 'info').length;
    
    let html = `
      <div class="mb-4">
        <div class="flex gap-4 text-xs">
          <span class="text-rose-400"><i class="fa-solid fa-circle-xmark mr-1"></i>Errors: ${errorCount}</span>
          <span class="text-amber-400"><i class="fa-solid fa-triangle-exclamation mr-1"></i>Warnings: ${warningCount}</span>
          <span class="text-sky-400"><i class="fa-solid fa-circle-info mr-1"></i>Info: ${infoCount}</span>
        </div>
      </div>
      <div class="space-y-2">
    `;
    
    issues.forEach(issue => {
      const icon = issue.type === 'error' ? 'fa-circle-xmark' : 
                   issue.type === 'warning' ? 'fa-triangle-exclamation' : 
                   'fa-circle-info';
      
      html += `
        <div class="validation-item ${issue.type}">
          <i class="fa-solid ${icon} mt-0.5"></i>
          <div class="flex-1">
            <p class="font-medium">${issue.message}</p>
          </div>
        </div>
      `;
    });
    
    html += '</div>';
    validationResults.innerHTML = html;
  }

  // ============================================
  // FETCH USING NETLIFY FUNCTION (BACKEND)
  // ============================================
  async function fetchRawHtml(url, timeout = 8000) {
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), timeout);
    
    try {
      // Deteksi environment (local vs production)
      const functionUrl = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
        ? 'http://localhost:8888/.netlify/functions/fetch-url'
        : '/.netlify/functions/fetch-url';
      
      console.log('ð Calling function:', functionUrl);
      
      // Gunakan Netlify Function sebagai backend
      const response = await fetch(functionUrl, {
        method: 'POST',
        signal: controller.signal,
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ url })
      });
      
      clearTimeout(timeoutId);
      
      // Cek jika function tidak ditemukan (404)
      if (response.status === 404) {
        console.warn('â ï¸ Netlify Function tidak ditemukan! Fallback ke proxy...');
        return await fetchWithProxies(url, timeout);
      }
      
      if (!response.ok) {
        let error;
        try {
          error = await response.json();
        } catch {
          error = { error: await response.text() };
        }
        
        // Handle rate limit
        if (response.status === 429) {
          throw new Error(error.error || 'Rate limit exceeded');
        }
        
        throw new Error(error.error || `HTTP ${response.status}`);
      }
      
      const data = await response.json();
      
      // Update rate limit UI jika ada header
      const remaining = response.headers.get('X-RateLimit-Remaining');
      if (remaining !== null) {
        const limit = response.headers.get('X-RateLimit-Limit') || SECURITY_CONFIG.maxRequests;
        rateLimitText.textContent = `${remaining}/${limit}`;
        
        rateLimitBadge.classList.remove('warning', 'danger');
        if (remaining <= 5) {
          rateLimitBadge.classList.add('danger');
        } else if (remaining <= 10) {
          rateLimitBadge.classList.add('warning');
        }
      }
      
      // Return response yang compatible dengan existing code
      return {
        ok: true,
        status: 200,
        text: async () => data.html
      };
      
    } catch (error) {
      clearTimeout(timeoutId);
      
      if (error.name === 'AbortError') {
        throw new Error('Request timeout (8 detik)');
      }
      
      // Jika fetch function gagal total, fallback ke proxy
      if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
        console.warn('â ï¸ Function offline, using fallback proxy...');
        return await fetchWithProxies(url, timeout);
      }
      
      throw error;
    }
  }

  // ============================================
  // FALLBACK: PROXY JIKA FUNCTION GAGAL
  // ============================================
  async function fetchWithProxies(url, timeout = 8000) {
    const proxies = [
      `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,
      `https://corsproxy.io/?${encodeURIComponent(url)}`,
      `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(url)}`,
    ];

    async function fetchWithTimeout(proxyUrl) {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), timeout);
      
      try {
        const response = await fetch(proxyUrl, { 
          signal: controller.signal,
          headers: {
            'User-Agent': 'Mozilla/5.0 (SourceInspector/2.0)'
          }
        });
        clearTimeout(timeoutId);
        return response;
      } catch (error) {
        clearTimeout(timeoutId);
        throw error;
      }
    }

    // Coba semua proxy secara parallel (race)
    const promises = proxies.map(proxy => 
      fetchWithTimeout(proxy)
        .then(res => ({ success: true, response: res, proxy }))
        .catch(err => ({ success: false, error: err, proxy }))
    );

    const results = await Promise.all(promises);
    
    // Ambil yang berhasil pertama kali
    const successful = results.find(r => r.success && r.response.ok);
    
    if (successful) {
      console.log('â Berhasil dengan proxy:', successful.proxy);
      return successful.response;
    }

    // Jika semua gagal
    throw new Error('Semua proxy gagal. Coba lagi nanti.');
  }

  // ============================================
  // MAIN FETCH FUNCTION
  // ============================================
  async function fetchSource() {
    clearError();

    const rawUrl = urlInput.value;
    const normalized = normalizeUrl(rawUrl);
    
    if (!normalized) {
      showError('â Mohon isi URL terlebih dahulu.');
      return;
    }

    // Validasi URL berbahaya
    if (isLocalOrDangerous(normalized)) {
      showError('ð« URL localhost/private IP diblokir untuk keamanan.');
      return;
    }

    urlInput.value = normalized;

    // Cek rate limit
    try {
      checkRateLimit();
    } catch (err) {
      showError(err.message);
      return;
    }

    // Cek cache
    const cached = getCachedData(normalized);
    if (cached) {
      console.log('ð¦ Menggunakan cache');
      currentHtml = cached;
      displayResult(cached, normalized);
      return;
    }

    try {
      setLoading(true);
      progressBar.style.width = '45%';
      progressLabel.textContent = '45%';

      const res = await fetchRawHtml(normalized, SECURITY_CONFIG.timeout);

      progressBar.style.width = '70%';
      progressLabel.textContent = '70%';

      if (!res.ok) {
        throw new Error(`Gagal mengambil data (HTTP ${res.status})`);
      }

      const text = await res.text();

      // Cek ukuran
      const sizeBytes = new Blob([text]).size;
      if (sizeBytes > SECURITY_CONFIG.maxSizeBytes) {
        throw new Error(`â ï¸ Ukuran HTML terlalu besar! (${(sizeBytes / 1024 / 1024).toFixed(2)}MB, max ${SECURITY_CONFIG.maxSizeMB}MB)`);
      }

      currentHtml = text;
      setCachedData(normalized, text);
      displayResult(text, normalized);
      setLoading(false);

    } catch (err) {
      console.error(err);
      setLoading(false);
      showError('â ' + err.message);
    }
  }

function displayResult(text, url) {
  fileNameSpan.textContent = url;
  fileNameSpan.classList.remove('text-slate-400');
  fileNameSpan.classList.add('text-slate-200');

  if (syntaxHighlightEnabled) {
    applySyntaxHighlight(text);
  } else {
    removeSyntaxHighlight(text);
  }

  // Pastikan line numbers selalu aktif
  if (!codeOutput.classList.contains('line-numbers')) {
    codeOutput.classList.add('line-numbers');
    Prism.plugins.lineNumbers.resize(codeOutput);
  }

  updateStatusBar(text);
  updatePreview(text);
  
  const issues = validateHtml(text);
  displayValidationResults(issues);

  codeView.scrollTop = 0;
}
  // ============================================
  // UTILITY FUNCTIONS
  // ============================================
  async function copyCode() {
    const code = codeOutput.querySelector('code');
    const text = code.textContent.trim();
    if (!text) return;

    try {
      await navigator.clipboard.writeText(text);
      copyIcon.classList.remove('fa-copy');
      copyIcon.classList.add('fa-check', 'text-emerald-400');

      setTimeout(() => {
        copyIcon.classList.remove('fa-check', 'text-emerald-400');
        copyIcon.classList.add('fa-copy');
      }, 1400);
    } catch (err) {
      console.error(err);
      showError('Gagal copy ke clipboard.');
    }
  }

  function clearOutput() {
    currentHtml = '<!-- Kode dari website akan muncul di sini -->';
    const code = codeOutput.querySelector('code');
    code.textContent = currentHtml;
    fileNameSpan.textContent = '(belum ada data)';
    fileNameSpan.classList.remove('text-slate-200');
    fileNameSpan.classList.add('text-slate-400');
    clearError();

    codeView.scrollTop = 0;
    updateStatusBar('');
    validationResults.innerHTML = '<p class="text-xs text-slate-400 text-center py-8">Ambil kode terlebih dahulu untuk memvalidasi HTML</p>';
    
    const doc = previewFrame.contentDocument || previewFrame.contentWindow.document;
    doc.open();
    doc.write('');
    doc.close();
  }

  function downloadHtml() {
    const code = codeOutput.querySelector('code');
    const text = code.textContent.trim();
    if (!text) return;

    const blob = new Blob([text], { type: 'text/html' });
    const url = URL.createObjectURL(blob);

    const a = document.createElement('a');
    a.href = url;
    a.download = 'RuvveDevPro.html';
    a.click();

    URL.revokeObjectURL(url);
  }

  function toggleFullscreen() {
    const isFs = editorWrapper.classList.toggle('fullscreen-editor');
    if (isFs) {
      fullscreenIcon.classList.remove('fa-expand');
      fullscreenIcon.classList.add('fa-compress');
    } else {
      fullscreenIcon.classList.remove('fa-compress');
      fullscreenIcon.classList.add('fa-expand');
    }
  }

function applyFontSize() {
  const code = codeOutput.querySelector('code');
  const pre = codeOutput;
  
  // Set font size dengan !important untuk override
  if (code) {
    code.style.cssText = `font-size: ${currentFontPx}px !important; line-height: ${currentFontPx * 1.6}px !important;`;
  }
  if (pre) {
    pre.style.cssText = `font-size: ${currentFontPx}px !important; line-height: ${currentFontPx * 1.6}px !important;`;
  }
  
  // Update juga line numbers jika ada
  const lineNumbers = document.querySelector('.line-numbers-rows');
  if (lineNumbers) {
    lineNumbers.style.cssText = `font-size: ${currentFontPx}px !important;`;
  }
  
  // Log untuk debugging
  console.log(`Font size updated to: ${currentFontPx}px`);
}
function shrinkFont() {
  if (currentFontPx > 8) {
    currentFontPx -= 1;
    applyFontSize();
    
    // Feedback visual yang lebih jelas
    titleSmall.style.transform = 'scale(0.85)';
    titleSmall.style.color = '#10b981';
    
    setTimeout(() => {
      titleSmall.style.transform = 'scale(1)';
      titleSmall.style.color = '';
    }, 200);
    
    // Tampilkan ukuran saat ini
    showFontSizeNotification(currentFontPx);
  } else {
    // Notifikasi jika sudah minimum
    showFontSizeNotification(currentFontPx, 'Ukuran minimum tercapai');
  }
}
function growFont() {
  if (currentFontPx < 24) {
    currentFontPx += 1;
    applyFontSize();
    
    // Feedback visual yang lebih jelas
    titleBig.style.transform = 'scale(1.15)';
    titleBig.style.color = '#10b981';
    
    setTimeout(() => {
      titleBig.style.transform = 'scale(1)';
      titleBig.style.color = '';
    }, 200);
    
    // Tampilkan ukuran saat ini
    showFontSizeNotification(currentFontPx);
  } else {
    // Notifikasi jika sudah maksimum
    showFontSizeNotification(currentFontPx, 'Ukuran maksimum tercapai');
  }
}
function beautifyHtml() {
  const code = codeOutput.querySelector('code');
  const text = code.textContent.trim();
  if (!text) return;

  try {
    const beautified = html_beautify(text, {
      indent_size: 2,
      indent_char: ' ',
      max_preserve_newlines: 2,
      preserve_newlines: true,
      indent_inner_html: true,
      wrap_line_length: 0,
      end_with_newline: false,
      extra_liners: ['head', 'body', '/html']
    });

    currentHtml = beautified;
    
    if (syntaxHighlightEnabled) {
      applySyntaxHighlight(beautified);
    } else {
      code.textContent = beautified;
    }

    // Pastikan line numbers tetap aktif setelah beautify
    if (!codeOutput.classList.contains('line-numbers')) {
      codeOutput.classList.add('line-numbers');
    }
    Prism.plugins.lineNumbers.resize(codeOutput);

    updateStatusBar(beautified);
    updatePreview(beautified);
    
    showSuccessFeedback(beautifyBtn, 'fa-wand-magic-sparkles');
  } catch (err) {
    console.error(err);
    showError('Gagal beautify HTML: ' + err.message);
  }
}
function minifyHtml() {
  const code = codeOutput.querySelector('code');
  const text = code.textContent.trim();
  if (!text) return;

  try {
    let minified = text
      .replace(/<!--[\s\S]*?-->/g, '')
      .replace(/>\s+</g, '><')
      .replace(/[\r\n\t]+/g, '')
      .replace(/\s{2,}/g, ' ')
      .replace(/\s*=\s*/g, '=')
      .replace(/<\s+/g, '<')
      .replace(/\s+>/g, '>')
      .trim();

    minified = minified.replace(/<style[^>]*>([\s\S]*?)<\/style>/gi, (match, css) => {
      const minifiedCss = css
        .replace(/\/\*[\s\S]*?\*\//g, '')
        .replace(/\s+/g, ' ')
        .replace(/\s*([{}:;,])\s*/g, '$1')
        .trim();
      return match.replace(css, minifiedCss);
    });

    minified = minified.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, (match, js) => {
      const minifiedJs = js
        .replace(/\/\/.*$/gm, '')
        .replace(/\/\*[\s\S]*?\*\//g, '')
        .replace(/\s+/g, ' ')
        .replace(/\s*([{}();,:])\s*/g, '$1')
        .trim();
      return match.replace(js, minifiedJs);
    });

    currentHtml = minified;
    
    if (syntaxHighlightEnabled) {
      applySyntaxHighlight(minified);
    } else {
      code.textContent = minified;
    }

    // Pastikan line numbers tetap aktif setelah minify
    if (!codeOutput.classList.contains('line-numbers')) {
      codeOutput.classList.add('line-numbers');
    }
    Prism.plugins.lineNumbers.resize(codeOutput);

    updateStatusBar(minified);
    updatePreview(minified);
    
    showSuccessFeedback(minifyBtn, 'fa-compress');
  } catch (err) {
    console.error(err);
    showError('Gagal minify HTML: ' + err.message);
  }
}
  function showSuccessFeedback(button, iconClass) {
    const icon = button.querySelector('i');
    const originalClass = icon.className;
    
    icon.className = 'fa-solid fa-check text-[10px] text-emerald-400';
    button.classList.add('bg-emerald-900/30', 'border-emerald-500/50');
    
    setTimeout(() => {
      icon.className = originalClass;
      button.classList.remove('bg-emerald-900/30', 'border-emerald-500/50');
    }, 1000);
  }

  function switchTab(tab) {
    [tabCode, tabPreview, tabValidation].forEach(t => t.classList.remove('active'));
    tab.classList.add('active');

    codeView.classList.add('hidden');
    previewView.classList.add('hidden');
    validationView.classList.add('hidden');
    document.getElementById('codeViewHeader').classList.remove('hidden');

    if (tab === tabCode) {
      codeView.classList.remove('hidden');
    } else if (tab === tabPreview) {
      previewView.classList.remove('hidden');
      document.getElementById('codeViewHeader').classList.add('hidden');
    } else if (tab === tabValidation) {
      validationView.classList.remove('hidden');
      document.getElementById('codeViewHeader').classList.add('hidden');
    }
  }

  // ============================================
  // EVENT LISTENERS
  // ============================================
  fetchBtn.addEventListener('click', fetchSource);
  copyBtn.addEventListener('click', copyCode);
  clearBtn.addEventListener('click', clearOutput);
  downloadBtn.addEventListener('click', downloadHtml);
  fullscreenBtn.addEventListener('click', toggleFullscreen);
  beautifyBtn.addEventListener('click', beautifyHtml);
  minifyBtn.addEventListener('click', minifyHtml);
  highlightBtn.addEventListener('click', toggleSyntaxHighlight);

  titleSmall.addEventListener('click', shrinkFont);
  titleBig.addEventListener('click', growFont);
  function showFontSizeNotification(size, message = null) {
  // Hapus notifikasi sebelumnya jika ada
  const existingNotif = document.getElementById('fontSizeNotif');
  if (existingNotif) {
    existingNotif.remove();
  }
  
  // Buat notifikasi baru
  const notif = document.createElement('div');
  notif.id = 'fontSizeNotif';
  notif.style.cssText = `
    position: fixed;
    top: 80px;
    right: 20px;
    background: rgba(15, 23, 42, 0.95);
    border: 1px solid rgba(99, 102, 241, 0.5);
    color: #e0e7ff;
    padding: 10px 16px;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    z-index: 10000;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
    animation: slideInRight 0.3s ease;
  `;
  
  notif.innerHTML = `
    <i class="fa-solid fa-text-height" style="color: #a5b4fc; margin-right: 8px;"></i>
    ${message || `Ukuran Font: ${size}px`}
  `;
  
  document.body.appendChild(notif);
  
  // Hapus setelah 1.5 detik
  setTimeout(() => {
    notif.style.animation = 'slideOutRight 0.3s ease';
    setTimeout(() => notif.remove(), 300);
  }, 1500);
}

  tabCode.addEventListener('click', () => switchTab(tabCode));
  tabPreview.addEventListener('click', () => switchTab(tabPreview));
  tabValidation.addEventListener('click', () => switchTab(tabValidation));

  urlInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      fetchSource();
    }
  });


// ============================================
// INITIALIZATION
// ============================================
// Tunggu DOM sepenuhnya loaded
document.addEventListener('DOMContentLoaded', () => {
  // Aktifkan line numbers secara default
  codeOutput.classList.add('line-numbers');
  
  applyFontSize();
  updateStatusBar('');
  updateRateLimitUI();
  
  console.log('â Source Inspector Pro Initialized');
  console.log(`ð Default font size: ${currentFontPx}px`);
  console.log('ð Line numbers: Active');
});

  // Update rate limit badge setiap 5 detik
  setInterval(updateRateLimitUI, 5000);
  // ===============================
// SIDEBAR
// ===============================
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  sidebar.classList.toggle('active');
  overlay.classList.toggle('active');
}

// ===============================
// TAB SWITCHING
// ===============================
function switchTab(activeBtn) {
  [tabCode, tabPreview, tabValidation].forEach(btn =>
    btn.classList.remove('active')
  );

  codeView.classList.add('hidden');
  previewView.classList.add('hidden');
  validationView.classList.add('hidden');

  activeBtn.classList.add('active');

  if (activeBtn === tabCode) codeView.classList.remove('hidden');
  if (activeBtn === tabPreview) previewView.classList.remove('hidden');
  if (activeBtn === tabValidation) validationView.classList.remove('hidden');
}

// ===============================
// SUCCESS FEEDBACK (BUTTON EFFECT)
// ===============================
function showSuccessFeedback(btn, iconClass) {
  const icon = btn.querySelector('i');
  if (!icon) return;

  const original = icon.className;
  icon.className = 'fa-solid fa-check text-emerald-400';

  setTimeout(() => {
    icon.className = original;
  }, 900);
}

// ===============================
// BUTTON ACTIONS
// ===============================
fetchBtn.addEventListener('click', fetchSource);
copyBtn.addEventListener('click', copyCode);
clearBtn.addEventListener('click', clearOutput);
downloadBtn.addEventListener('click', downloadHtml);
fullscreenBtn.addEventListener('click', toggleFullscreen);

highlightBtn.addEventListener('click', toggleSyntaxHighlight);
beautifyBtn.addEventListener('click', beautifyHtml);
minifyBtn.addEventListener('click', minifyHtml);

// ===============================
// MINIFY FINAL (LANJUTAN)
// ===============================
function minifyHtml() {
  const code = codeOutput.querySelector('code');
  const text = code.textContent.trim();
  if (!text) return;

  try {
    let minified = text
      .replace(/<!--[\s\S]*?-->/g, '')
      .replace(/>\s+</g, '><')
      .replace(/\s+/g, ' ')
      .trim();

    currentHtml = minified;

    if (syntaxHighlightEnabled) {
      applySyntaxHighlight(minified);
    } else {
      code.textContent = minified;
    }

    updateStatusBar(minified);
    updatePreview(minified);
    showSuccessFeedback(minifyBtn, 'fa-compress');
  } catch (e) {
    showError('Gagal minify HTML');
  }
}
codeOutput.addEventListener('input', () => {
  const code = codeOutput.querySelector('code');
  const text = code.textContent || '';

  currentHtml = text;
  updatePreview(text);
  updateStatusBar(text);
});
document.addEventListener('DOMContentLoaded', () => {
  // ... kode inisialisasi lainnya ...

  // === EFEK TYPING TEXT ===
  const typed = new Typed('#typing-element', {
    strings: ['Web Developer', 'GGWP', 'Frontend Engineer', 'Open Source Learning','Is Satria'], // Teks yang akan berganti-ganti
    typeSpeed: 60,    // Kecepatan mengetik
    backSpeed: 40,    // Kecepatan menghapus
    backDelay: 1500,  // Jeda sebelum menghapus
    startDelay: 500,  // Jeda sebelum mulai
    loop: true,       // Mengulang terus menerus
    showCursor: true, // Menampilkan kursor kedip
    cursorChar: '|',  // Karakter kursor
  });

  // ... log lainnya ...
});

</script>
</body>
</html>